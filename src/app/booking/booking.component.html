<p>booking works!</p>

<div id="booking-main">
    <div *ngIf="selectedValue$ | async as selectedValue">
        <div id="hero-booking">
            <app-navbar></app-navbar>
            <div id="hero-search">
                <form id="search-form">
                    <mat-form-field class="search-form-field">
                        <mat-label>Location</mat-label>
                        <input matInput type="text" readonly
                               [value]="selectedValue.search.location">
                    </mat-form-field>
    
                    <mat-form-field class="search-form-field">
                        <mat-label>Check-in - Check-out</mat-label>
                        <mat-date-range-input>
                          <input matStartDate readonly [ngModel]="selectedValue.search.checkInDate" name="checkInDate" id="" placeholder="Check-in">
                          <input matEndDate readonly [ngModel]="selectedValue.search.checkOutDate" name="checkOutDate" id="" placeholder="Check-out">
                        </mat-date-range-input>
                        <mat-hint style="color: wheat;">MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
                    </mat-form-field>
    
                      <mat-form-field class="search-form-field">
                        <mat-label>No. of Adult</mat-label>
                        <input matInput readonly type="number" [ngModel]="selectedValue.search.noOfAdult" name="noOfAdult" id="" placeholder="Ex. 4" value="1">
                      </mat-form-field>
    
                      <mat-form-field class="search-form-field">
                        <mat-label>No. of Rooms</mat-label>
                        <input matInput readonly type="number" [ngModel]="selectedValue.search.noOfRooms" name="noOfRooms" id="" placeholder="Ex. 2" value="1">
                      </mat-form-field>
                    
                  </form>
            </div>
        </div>
        <!-- <div>
            <h3>{{selectedValue.search.location}}</h3>
            <h3>{{selectedValue.search.checkInDate}}</h3>
            <h3>{{selectedValue.search.checkOutDate}}</h3>
            <h3>{{selectedValue.search.noOfAdult}}</h3>
            <h3>{{selectedValue.search.noOfRooms}}</h3>
        </div> -->
        <div id="booking-section">
            <div>
                <h1>Confirm and Pay</h1>
            </div>
            <div style="display: flex;">
                <div style="flex-basis: 50%;">
                    <div>
                        roomType: <h4>{{ selectedValue.selectedRoomtype.roomType.name}} - {{ selectedValue.selectedRoomtype.pricing.price}}</h4>
                        supplements: <h4 *ngFor="let sup of selectedValue.selectedSupplements">{{sup.supplement.name}} - {{sup.pricing.price}}</h4>
                        discount: <h4 *ngIf="selectedValue.selectedDiscount != null">{{selectedValue.selectedDiscount.percentage}}</h4>
                        <br>
                        Total(added service charge and discount): <h4>dd</h4>
                    </div>
                    <div>
                        Passengers: needs {{selectedValue.search.noOfAdult - passengers.length}}
                        <div id="passenger-add" *ngIf="passengers.length < selectedValue.search.noOfAdult">
                            Passenger Name: <input type="text" [(ngModel)]="passengerName" name=" passengerName">
                            <br><br>
                            Passenger Phone <input type="text" [(ngModel)]="passengerPhone" name="passengerPhone">
                            <br><br>
                            
                            <button id="btn-add" type="button" (click)="addPassenger()">Add</button>
                        </div>
                        <mat-list *ngIf="passengers.length > 0">
                            <mat-list-item *ngFor="let passengers of passengers;let i = index" >
                                <div id="passenger-display">
                                    <div>
                                        <span matListItemTitle>Name: {{passengers.name}}</span>
                                        <span matListItemLine>Phone: {{passengers.phone}}</span>
                                    </div>
                                    <button id="btn-delete" type="button" (click)="removePassenger(i)">remove</button>
                                </div>
                            </mat-list-item>
                        </mat-list>
                        <!-- <ul *ngIf="passengers.length > 0">
                            <li *ngFor="let passengers of passengers;let i = index">
                                <p>{{passengers.name}}</p>
                                <p>{{passengers.phone}}</p>
                                <button type="button" (click)="removePassenger(i)">remove</button>
                            </li>
                        </ul> -->
                    </div>
                </div>
                <div style="flex-basis: 50%;" id="booking-payment">
                    Payment:
                    <select [(ngModel)]="paymentMethod" id="" >
                        <option value="card" ngValue="card">Card</option>
                    </select>
                    <br><br>
                    Card Number: <input type="text" [(ngModel)]="cardNumber" name="cardNumber"/>
                    <br>
                    Expiration: <input type="text" [(ngModel)]="expiration" name="expiration">
                    <br>
                    cvv: <input type="number" [(ngModel)]="cvv" name="cvv">
    
                    <br><br>
                    Billing address:
                    Address: <input type="text" [(ngModel)]="billingAddress" name="billingAddress">
                    city: <input type="text" [(ngModel)]="billingCity" name="billingCity">
                    zipcode: <input type="text" [(ngModel)]="zipcode" name="zipcode">
                    <div>
                        <button id="btn-reserve" (click)="addBookig(selectedValue.selectedRoomtype, selectedValue.selectedSupplements, selectedValue.selectedDiscount, selectedValue.search, selectedValue.markup, selectedValue.hotel)">Book</button>
                    </div>
                </div>
            </div>
            

        </div>
    </div>
</div>
<app-footer></app-footer>